import React, { useEffect, useState } from 'react'
import '../assets/styles/Sidebar.css'

const curves = [
    "M0,288L18.5,272C36.9,256,74,224,111,192C147.7,160,185,128,222,117.3C258.5,107,295,117,332,133.3C369.2,149,406,171,443,160C480,149,517,107,554,112C590.8,117,628,171,665,186.7C701.5,203,738,181,775,186.7C812.3,192,849,224,886,229.3C923.1,235,960,213,997,197.3C1033.8,181,1071,171,1108,154.7C1144.6,139,1182,117,1218,133.3C1255.4,149,1292,203,1329,213.3C1366.2,224,1403,192,1422,176L1440,160L1440,320L1421.5,320C1403.1,320,1366,320,1329,320C1292.3,320,1255,320,1218,320C1181.5,320,1145,320,1108,320C1070.8,320,1034,320,997,320C960,320,923,320,886,320C849.2,320,812,320,775,320C738.5,320,702,320,665,320C627.7,320,591,320,554,320C516.9,320,480,320,443,320C406.2,320,369,320,332,320C295.4,320,258,320,222,320C184.6,320,148,320,111,320C73.8,320,37,320,18,320L0,320Z",
    "M0,64L18.5,106.7C36.9,149,74,235,111,245.3C147.7,256,185,192,222,138.7C258.5,85,295,43,332,48C369.2,53,406,107,443,112C480,117,517,75,554,74.7C590.8,75,628,117,665,133.3C701.5,149,738,139,775,144C812.3,149,849,171,886,149.3C923.1,128,960,64,997,48C1033.8,32,1071,64,1108,69.3C1144.6,75,1182,53,1218,90.7C1255.4,128,1292,224,1329,229.3C1366.2,235,1403,149,1422,106.7L1440,64L1440,320L1421.5,320C1403.1,320,1366,320,1329,320C1292.3,320,1255,320,1218,320C1181.5,320,1145,320,1108,320C1070.8,320,1034,320,997,320C960,320,923,320,886,320C849.2,320,812,320,775,320C738.5,320,702,320,665,320C627.7,320,591,320,554,320C516.9,320,480,320,443,320C406.2,320,369,320,332,320C295.4,320,258,320,222,320C184.6,320,148,320,111,320C73.8,320,37,320,18,320L0,320Z",
    "M0,64L18.5,58.7C36.9,53,74,43,111,42.7C147.7,43,185,53,222,80C258.5,107,295,149,332,144C369.2,139,406,85,443,85.3C480,85,517,139,554,149.3C590.8,160,628,128,665,122.7C701.5,117,738,139,775,170.7C812.3,203,849,245,886,256C923.1,267,960,245,997,213.3C1033.8,181,1071,139,1108,106.7C1144.6,75,1182,53,1218,85.3C1255.4,117,1292,203,1329,224C1366.2,245,1403,203,1422,181.3L1440,160L1440,320L1421.5,320C1403.1,320,1366,320,1329,320C1292.3,320,1255,320,1218,320C1181.5,320,1145,320,1108,320C1070.8,320,1034,320,997,320C960,320,923,320,886,320C849.2,320,812,320,775,320C738.5,320,702,320,665,320C627.7,320,591,320,554,320C516.9,320,480,320,443,320C406.2,320,369,320,332,320C295.4,320,258,320,222,320C184.6,320,148,320,111,320C73.8,320,37,320,18,320L0,320Z",
    "M0,224L18.5,224C36.9,224,74,224,111,197.3C147.7,171,185,117,222,96C258.5,75,295,85,332,112C369.2,139,406,181,443,181.3C480,181,517,139,554,128C590.8,117,628,139,665,154.7C701.5,171,738,181,775,192C812.3,203,849,213,886,192C923.1,171,960,117,997,101.3C1033.8,85,1071,107,1108,144C1144.6,181,1182,235,1218,240C1255.4,245,1292,203,1329,170.7C1366.2,139,1403,117,1422,106.7L1440,96L1440,320L1421.5,320C1403.1,320,1366,320,1329,320C1292.3,320,1255,320,1218,320C1181.5,320,1145,320,1108,320C1070.8,320,1034,320,997,320C960,320,923,320,886,320C849.2,320,812,320,775,320C738.5,320,702,320,665,320C627.7,320,591,320,554,320C516.9,320,480,320,443,320C406.2,320,369,320,332,320C295.4,320,258,320,222,320C184.6,320,148,320,111,320C73.8,320,37,320,18,320L0,320Z",
    "M0,192L18.5,197.3C36.9,203,74,213,111,229.3C147.7,245,185,267,222,250.7C258.5,235,295,181,332,170.7C369.2,160,406,192,443,186.7C480,181,517,139,554,144C590.8,149,628,203,665,208C701.5,213,738,171,775,149.3C812.3,128,849,128,886,154.7C923.1,181,960,235,997,229.3C1033.8,224,1071,160,1108,160C1144.6,160,1182,224,1218,234.7C1255.4,245,1292,203,1329,165.3C1366.2,128,1403,96,1422,80L1440,64L1440,320L1421.5,320C1403.1,320,1366,320,1329,320C1292.3,320,1255,320,1218,320C1181.5,320,1145,320,1108,320C1070.8,320,1034,320,997,320C960,320,923,320,886,320C849.2,320,812,320,775,320C738.5,320,702,320,665,320C627.7,320,591,320,554,320C516.9,320,480,320,443,320C406.2,320,369,320,332,320C295.4,320,258,320,222,320C184.6,320,148,320,111,320C73.8,320,37,320,18,320L0,320Z"
];
var i = 0;

const Sidebar = () => {
    const [toggle, setToggle] = useState(false)
    const [dValue, setDValue] = useState(curves[0])
    const [compStyle, setCompStyle] = useState({})
    const [tipStyle, setTipStyle] = useState({})

    useEffect(() => {
        const interval = setInterval(() => {
            setDValue(curves[i])
            i++
            if (i === curves.length) i = 0;
        }, 800)
        return () => clearInterval(interval)
    })

    const scrollbutton = () => {
        (window.matchMedia("(max-width: 1024px)"))
        ? (
            toggle === true
            ? setCompStyle({ transform: "translateX(-130%)", zIndex: "5", transition: "transform 1.5s" })
            : setCompStyle({ transform: "translateX(0)", zIndex: "5", transition: "transform 1.5s" })
        ) : (
            toggle === true
            ? setCompStyle({ transform: "translateX(-110%)", zIndex: "5", transition: "transform 3s" })
            : setCompStyle({ transform: "translateX(0)", zIndex: "5", transition: "transform 2.2s" })
        )
        // toggle === false 
        // ? setTipStyle({transform: "translateX(90vw) rotate(-45deg)", transition: "transform 1.5s", transitionDelay: "0.3s",  }) 
        // : setTipStyle({ transform: "translateX(0) rotate(-45deg)",  transition: "transform 0.8s"})

        (window.matchMedia("(max-width: 1024px)"))
        ? (
            toggle === false 
            ? setTipStyle({transform: "translateX(90vw) rotate(-45deg)", transition: "transform 1s", transitionDelay: "0.2s",  }) 
            : setTipStyle({ transform: "translateX(0) rotate(-45deg)",  transition: "transform 0.8s"})
        ) : (
            toggle === false 
            ? setTipStyle({transform: "translateX(90vw) rotate(-45deg)", transition: "transform 1.5s", transitionDelay: "0.3s",  }) 
            : setTipStyle({ transform: "translateX(0) rotate(-45deg)",  transition: "transform 0.8s"})
        )
        

        setToggle(!toggle)
    }

    return (
        <div className="sidebar">
            <div className="sidebar__slide" style={compStyle}>
                <div className="sidebar__screen" onClick={scrollbutton}>
                    <div className="sidebar__navbar">
                        <h1 className="hh1">ABOUT</h1>
                        <h1 className="hh1">SKILLS</h1>
                        <h1 className="hh1">PROJECTS</h1>
                        <h1 className="hh1">CONTACT</h1>
                    </div>

                </div>
                <svg className="sidebar__svg" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1440 320">
                    <path fill="black" fillOpacity="1" d={dValue}></path>
                </svg>
            </div>
            <div className="sidebar__tip" style={tipStyle} onClick={scrollbutton}>
                <div className="sidebar__button">
                    â‰¡
                </div>
            </div>
        </div>
    )
}

export default Sidebar
